<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
  <meta name="theme-color" content="#C44B2E" />
  <title>Florence 2026 ğŸŒ¸</title>
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
  <style>
    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

    :root {
      --red:      #C44B2E;
      --orange:   #E8834A;
      --cream:    #FFF8F0;
      --dark:     #2C1810;
      --muted:    #7A6055;
      --fri:      #E8834A;
      --sat:      #7C3AED;
      --sun:      #0EA05E;
      --hotel:    #C44B2E;
      --christina:#E91E8C;
      --safe-top: env(safe-area-inset-top,    0px);
      --safe-bot: env(safe-area-inset-bottom, 0px);
    }

    html, body { height: 100dvh; overflow: hidden; }
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, sans-serif;
      background: var(--cream);
      color: var(--dark);
      display: flex;
      flex-direction: column;
    }

    /* â”€â”€ HEADER â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .header {
      background: linear-gradient(135deg, #9C2E1A 0%, #C44B2E 55%, #E07840 100%);
      color: white;
      padding-top: var(--safe-top);
      flex-shrink: 0;
      z-index: 200;
    }
    .header-inner {
      padding: 13px 18px 12px;
      display: flex;
      align-items: center;
      justify-content: space-between;
    }
    .header-text h1 { font-size: 20px; font-weight: 800; letter-spacing: -0.3px; }
    .header-text p  { font-size: 12px; opacity: 0.82; margin-top: 1px; font-weight: 500; }
    .header-badge {
      background: rgba(255,255,255,0.2);
      border: 1px solid rgba(255,255,255,0.35);
      border-radius: 20px;
      padding: 4px 11px;
      font-size: 11px;
      font-weight: 700;
    }

    /* â”€â”€ TABS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .tabs {
      display: flex;
      background: white;
      border-bottom: 1px solid #EDE4DC;
      flex-shrink: 0;
      z-index: 190;
    }
    .tab {
      flex: 1;
      padding: 12px 6px;
      text-align: center;
      font-size: 13px;
      font-weight: 700;
      color: var(--muted);
      cursor: pointer;
      border-bottom: 3px solid transparent;
      transition: color .2s, border-color .2s;
      user-select: none;
      -webkit-tap-highlight-color: transparent;
    }
    .tab.active { color: var(--red); border-bottom-color: var(--red); }

    /* â”€â”€ CONTENT â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .content { flex: 1; overflow: hidden; display: flex; flex-direction: column; min-height: 0; }
    .pane    { display: none; flex: 1; flex-direction: column; min-height: 0; overflow: hidden; }
    .pane.active { display: flex; }

    /* â”€â”€ MAP â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    #map { flex: 1; min-height: 0; }

    .map-controls {
      background: white;
      padding: 8px 10px;
      display: flex;
      gap: 6px;
      flex-wrap: nowrap;
      align-items: center;
      flex-shrink: 0;
      border-bottom: 1px solid #EDE4DC;
      overflow-x: auto;
      -webkit-overflow-scrolling: touch;
      scrollbar-width: none;
    }
    .map-controls::-webkit-scrollbar { display: none; }

    .chip {
      display: inline-flex;
      align-items: center;
      gap: 5px;
      padding: 5px 10px;
      border-radius: 20px;
      border: 1.5px solid;
      font-size: 12px;
      font-weight: 700;
      cursor: pointer;
      white-space: nowrap;
      transition: opacity .2s;
      user-select: none;
      -webkit-tap-highlight-color: transparent;
      flex-shrink: 0;
    }
    .chip input { display: none; }
    .chip.off   { opacity: 0.32; }
    .dot { width: 8px; height: 8px; border-radius: 50%; flex-shrink: 0; }

    /* â”€â”€ TOAST â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    #toast {
      position: fixed;
      bottom: calc(var(--safe-bot) + 70px);
      left: 50%;
      transform: translateX(-50%) translateY(20px);
      background: rgba(44,24,16,0.88);
      color: white;
      font-size: 13px;
      font-weight: 600;
      padding: 9px 16px;
      border-radius: 20px;
      pointer-events: none;
      opacity: 0;
      transition: opacity .3s, transform .3s;
      z-index: 9999;
      white-space: nowrap;
    }
    #toast.show { opacity: 1; transform: translateX(-50%) translateY(0); }

    /* â”€â”€ POPUP â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .leaflet-popup-content-wrapper {
      border-radius: 14px !important;
      padding: 4px !important;
      box-shadow: 0 6px 24px rgba(0,0,0,0.20) !important;
    }
    .leaflet-popup-content { margin: 12px 14px !important; }

    .pw { font-family: -apple-system, sans-serif; min-width: 230px; max-width: 280px; }
    .pw-name { font-weight: 800; font-size: 15px; color: var(--dark); margin-bottom: 5px; }
    .pw-sub  { font-size: 12px; color: var(--christina); font-weight: 700; margin-bottom: 4px; }
    .pw-desc { font-size: 13px; color: #555; line-height: 1.45; margin-bottom: 7px; }
    .pw-tip  {
      font-size: 12px; color: #777; font-style: italic; line-height: 1.4;
      margin-bottom: 9px; border-left: 3px solid #EDE4DC; padding-left: 8px;
    }
    .pw-tags { display: flex; flex-wrap: wrap; gap: 4px; margin-bottom: 10px; }
    .pw-tag  { font-size: 11px; font-weight: 700; padding: 2px 8px; border-radius: 10px; }
    .t-day   { color: white; }
    .t-book  { background: #FFF0E0; color: #C15400; }
    .t-opt   { background: #F0E8FF; color: #5E00CC; }
    .pw-btns { display: flex; gap: 6px; flex-wrap: wrap; }
    .pw-btn  {
      padding: 8px 11px; border-radius: 9px; font-size: 12px; font-weight: 700;
      border: none; cursor: pointer; text-decoration: none;
      display: inline-flex; align-items: center; gap: 4px; white-space: nowrap;
      -webkit-tap-highlight-color: transparent;
    }
    .btn-gm  { background: #4285F4; color: white; }
    .btn-dir { background: #0F9D58; color: white; }

    /* â”€â”€ ITINERARY â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .scroll {
      flex: 1; overflow-y: auto; min-height: 0;
      padding: 14px 13px calc(var(--safe-bot) + 14px);
      -webkit-overflow-scrolling: touch;
      scrollbar-width: thin;
    }
    .scroll::-webkit-scrollbar { width: 3px; }
    .scroll::-webkit-scrollbar-thumb { background: #DDD; border-radius: 2px; }

    .overview {
      background: white; border-radius: 14px; padding: 14px 16px;
      margin-bottom: 14px; box-shadow: 0 2px 10px rgba(44,24,16,.09);
    }
    .overview h3 { font-size: 14px; font-weight: 800; margin-bottom: 10px; }
    .ov-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 8px; }
    .ov-item strong { display: block; font-size: 13px; color: var(--dark); }
    .ov-item span   { font-size: 12px; color: var(--muted); }

    .book-card {
      background: linear-gradient(135deg, #FFF0E0 0%, #FFF8F0 100%);
      border: 1.5px solid #F0CEAD;
      border-radius: 14px; padding: 12px 14px; margin-bottom: 14px;
    }
    .book-card h3 { font-size: 13px; font-weight: 800; color: #B84E00; margin-bottom: 8px; }
    .book-item { font-size: 12px; color: var(--dark); padding: 3px 0; display: flex; gap: 6px; }

    .day-section {
      border-radius: 14px; overflow: hidden;
      margin-bottom: 16px;
      box-shadow: 0 2px 10px rgba(44,24,16,.09);
    }
    .day-header { padding: 13px 16px; color: white; }
    .day-header h2 { font-size: 16px; font-weight: 800; }
    .day-header p  { font-size: 12px; opacity: 0.85; margin-top: 2px; }
    .day-stats { display: flex; gap: 8px; margin-top: 8px; flex-wrap: wrap; }
    .day-stats span {
      background: rgba(255,255,255,0.2); padding: 3px 9px;
      border-radius: 10px; font-size: 11px; font-weight: 700;
    }

    .transit {
      display: flex; align-items: center; gap: 8px;
      padding: 7px 16px; background: #F9F7F5;
      border-bottom: 1px solid #EEE9E4;
      font-size: 12px; color: #999;
    }
    .transit-ic { font-size: 14px; }

    .stop {
      background: white; padding: 13px 16px;
      border-bottom: 1px solid #F5F0EC;
    }
    .stop:last-child { border-bottom: none; }
    .stop-time { font-size: 11px; color: #AAA; font-weight: 700; letter-spacing: .3px; margin-bottom: 3px; }
    .stop-name { font-size: 15px; font-weight: 800; color: var(--dark); line-height: 1.2; }
    .stop-desc {
      font-size: 13px; color: #5A5A5A; margin-top: 5px; line-height: 1.5;
      white-space: pre-line;
    }
    .stop-badges { display: flex; flex-wrap: wrap; gap: 5px; margin-top: 8px; }
    .badge { font-size: 11px; font-weight: 700; padding: 3px 8px; border-radius: 10px; }
    .b-walk { background: #E8F5E9; color: #1B6B23; }
    .b-book { background: #FFF0E0; color: #B84E00; }
    .b-opt  { background: #F0E8FF; color: #5400CC; }
    .b-rest { background: #FFE8EE; color: #AA1042; }
    .b-taxi { background: #E8F0FF; color: #1A43B5; }
    .stop-acts { display: flex; gap: 6px; margin-top: 10px; flex-wrap: wrap; }
    .s-btn {
      display: inline-flex; align-items: center; gap: 4px;
      padding: 8px 11px; border-radius: 9px; font-size: 12px; font-weight: 700;
      text-decoration: none; border: none; cursor: pointer;
      -webkit-tap-highlight-color: transparent;
    }

    /* â”€â”€ TIPS TAB â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    .tips-scroll {
      flex: 1; overflow-y: auto; min-height: 0;
      padding: 14px 13px calc(var(--safe-bot) + 14px);
      -webkit-overflow-scrolling: touch;
    }
    .tips-section {
      background: white; border-radius: 14px; padding: 14px 16px;
      margin-bottom: 14px; box-shadow: 0 2px 10px rgba(44,24,16,.09);
    }
    .tips-section h3 {
      font-size: 15px; font-weight: 800; color: var(--dark);
      margin-bottom: 12px; display: flex; align-items: center; gap: 7px;
    }
    .tip-row {
      display: flex; gap: 10px; padding: 9px 0;
      border-bottom: 1px solid #F5F0EC; align-items: flex-start;
    }
    .tip-row:last-child { border-bottom: none; padding-bottom: 0; }
    .tip-icon { font-size: 20px; flex-shrink: 0; line-height: 1; margin-top: 1px; }
    .tip-body strong { display: block; font-size: 13px; font-weight: 700; color: var(--dark); }
    .tip-body span   { font-size: 12px; color: var(--muted); line-height: 1.45; }
    .phrase-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 6px; }
    .phrase { font-size: 12px; color: var(--dark); }
    .phrase em { color: var(--muted); display: block; font-style: italic; font-size: 11px; }

    /* â”€â”€ RESPONSIVE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
    @media (min-width: 390px) { .header-text h1 { font-size: 22px; } }
    @media (min-width: 768px) {
      .header-text h1 { font-size: 26px; }
      .tab { font-size: 15px; padding: 14px; }
    }

    /* leaflet marker */
    .cm {
      display: flex; align-items: center; justify-content: center;
      border-radius: 50%; border: 2.5px solid white;
      box-shadow: 0 2px 8px rgba(0,0,0,.30);
    }
  </style>
</head>
<body>

<div class="header">
  <div class="header-inner">
    <div class="header-text">
      <h1>ğŸŒ¸ Florence 2026</h1>
      <p>Hotel Berchielli Â· Thu 19 â€“ Sun 22 Feb</p>
    </div>
    <div class="header-badge">ğŸ‡®ğŸ‡¹ 4 days</div>
  </div>
</div>

<div class="tabs">
  <div class="tab active" id="tab-map-btn"  onclick="switchTab('map')">ğŸ—ºï¸ Map</div>
  <div class="tab"        id="tab-itin-btn" onclick="switchTab('itin')">ğŸ“… Itinerary</div>
  <div class="tab"        id="tab-tips-btn" onclick="switchTab('tips')">ğŸ’¡ Tips</div>
</div>

<div class="content">

  <!-- MAP -->
  <div class="pane active" id="pane-map">
    <div class="map-controls" id="mapControls"></div>
    <div id="map"></div>
  </div>

  <!-- ITINERARY -->
  <div class="pane" id="pane-itin">
    <div class="scroll" id="itinerary"></div>
  </div>

  <!-- TIPS -->
  <div class="pane" id="pane-tips">
    <div class="tips-scroll" id="tips"></div>
  </div>

</div>

<div id="toast"></div>

<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
<script>
/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   COLOURS & CONSTANTS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
const C = { hotel:'#C44B2E', fri:'#E8834A', sat:'#7C3AED', sun:'#0EA05E', ch:'#E91E8C' };
const HOTEL = { lat:43.76945, lng:11.25193,
  name:'Hotel Berchielli',
  desc:'Your home base â€” right on the Arno, steps from Ponte Vecchio.',
  mapsUrl:'https://maps.google.com/?q=Hotel+Berchielli+Lungarno+Acciaiuoli+Florence',
};

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   LOCATIONS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
const LOCS = [
  // FRIDAY
  { id:'smn-farm', name:'Farmaceutica di S.M. Novella', icon:'ğŸŒ¿', day:'fri', lat:43.77445, lng:11.24969,
    desc:'The world\'s oldest pharmacy (1221) inside a frescoed chapel. Perfumes, soaps, herbal remedies â€” utterly unique.',
    tip:'Monâ€“Sat 9amâ€“8pm, Sun 10amâ€“6pm. Even if you don\'t buy, the chapel interior is stunning.',
    book:false, opt:false,
    mapsUrl:'https://maps.google.com/?q=Officina+Profumo+Farmaceutica+Santa+Maria+Novella+Florence' },

  { id:'basilica-novella', name:'Basilica di Santa Maria Novella', icon:'â›ª', day:'fri', lat:43.77452, lng:11.24901,
    desc:'Gothic marble masterpiece. Masaccio\'s Trinity fresco and Ghirlandaio\'s Tornabuoni chapel inside.',
    tip:'Entry â‚¬7.50. Monâ€“Thu, Sat 9amâ€“7pm; Fri & Sun 1â€“7pm.',
    book:false, opt:false,
    mapsUrl:'https://maps.google.com/?q=Basilica+Santa+Maria+Novella+Florence' },

  { id:'mercato-centrale', name:'Mercato Centrale', icon:'ğŸ›’', day:'fri', lat:43.77616, lng:11.25381,
    desc:'Iconic iron-and-glass market. Ground floor: fresh produce, meats, lampredotto. Upstairs food court from 10am.',
    tip:'Try lampredotto (Florentine tripe sandwich) â€” the most authentic street food in the city.',
    book:false, opt:false,
    mapsUrl:'https://maps.google.com/?q=Mercato+Centrale+Florence' },

  { id:'duomo', name:'Duomo â€“ Santa Maria del Fiore', icon:'ğŸ›ï¸', day:'fri', lat:43.77308, lng:11.25600,
    desc:'Brunelleschi\'s dome â€” one of history\'s greatest engineering feats. Dominates the skyline from everywhere.',
    tip:'Exterior free. Dome climb + Campanile + Baptistery = â‚¬30 combo. Book at operaduomo.firenze.it â€” sells out!',
    book:true, opt:false,
    mapsUrl:'https://maps.google.com/?q=Cattedrale+di+Santa+Maria+del+Fiore+Florence' },

  { id:'campanile', name:'Giotto\'s Campanile', icon:'ğŸ””', day:'fri', lat:43.77299, lng:11.25581,
    desc:'414 steps to panoramic views â€” arguably better than the dome since you see the dome itself from here.',
    tip:'Part of â‚¬30 Duomo combo. No lift, all stairs. Go early to avoid queues.',
    book:true, opt:true,
    mapsUrl:'https://maps.google.com/?q=Campanile+di+Giotto+Florence' },

  { id:'baptistery', name:'Baptistery of San Giovanni', icon:'ğŸšª', day:'fri', lat:43.77336, lng:11.25516,
    desc:'Ghiberti\'s golden "Gates of Paradise" bronze doors are one of the supreme works of the Renaissance.',
    tip:'Part of â‚¬30 Duomo combo.',
    book:false, opt:true,
    mapsUrl:'https://maps.google.com/?q=Battistero+di+San+Giovanni+Florence' },

  { id:'signoria', name:'Piazza della Signoria & Neptune', icon:'ğŸŸï¸', day:'fri', lat:43.76979, lng:11.25592,
    desc:'Florence\'s open-air sculpture museum â€” free. Neptune Fountain, David copy, Perseus by Cellini in the Loggia.',
    tip:'100% free to wander. The Loggia dei Lanzi sculptures are world-class and entirely unguarded.',
    book:false, opt:false,
    mapsUrl:'https://maps.google.com/?q=Piazza+della+Signoria+Florence' },

  { id:'palazzo-vecchio', name:'Palazzo Vecchio', icon:'ğŸ°', day:'fri', lat:43.76956, lng:11.25598,
    desc:'Medieval fortress-palace serving as Florence\'s town hall since 1299. Stunning frescoed halls inside.',
    tip:'Entry â‚¬12.50. Just peeking at the courtyard is free and worth it.',
    book:false, opt:true,
    mapsUrl:'https://maps.google.com/?q=Palazzo+Vecchio+Florence' },

  { id:'vinaio', name:'All\'Antico Vinaio', icon:'ğŸ¥ª', day:'fri', lat:43.76862, lng:11.25548,
    desc:'Florence\'s most famous sandwich shop. Enormous schiacciata stuffed with Tuscan meats and cheeses.',
    tip:'Via dei Neri 74/76. Arrive before noon â€” queues grow fast! Worth every minute.',
    book:false, opt:false,
    mapsUrl:'https://maps.google.com/?q=All+Antico+Vinaio+Via+dei+Neri+Florence' },

  { id:'uffizi', name:'Uffizi Galleries', icon:'ğŸ–¼ï¸', day:'fri', lat:43.76787, lng:11.25535,
    desc:'Botticelli\'s Birth of Venus & Primavera, da Vinci, Raphael, Michelangelo. One of the world\'s greatest museums.',
    tip:'Book well in advance at uffizi.it (â‚¬20â€“25). Opens 8:15am, closed Mon. Allow 2â€“3 hours.',
    book:true, opt:true,
    mapsUrl:'https://maps.google.com/?q=Uffizi+Galleries+Florence' },

  { id:'ponte-vecchio', name:'Ponte Vecchio', icon:'ğŸŒ‰', day:'fri', lat:43.76803, lng:11.25312,
    desc:'Medieval bridge lined with jewellers since the 13th century. Magical Arno views at golden hour.',
    tip:'Free to cross. Walk to the middle for the best views both up and downstream.',
    book:false, opt:false,
    mapsUrl:'https://maps.google.com/?q=Ponte+Vecchio+Florence' },

  { id:'zaza', name:'Trattoria ZÃ  ZÃ  âœ…', icon:'ğŸ½ï¸', day:'fri', lat:43.77659, lng:11.25431,
    desc:'BOOKED at 19:30. Classic Florentine trattoria. Ribollita, pappardelle al cinghiale, bistecca.',
    tip:'Reservation confirmed 19:30. ~15 min walk from hotel through the historic centre.',
    book:true, opt:false,
    mapsUrl:'https://maps.google.com/?q=Trattoria+Za+Za+Piazza+del+Mercato+Centrale+Florence' },

  // SATURDAY
  { id:'accademia', name:'Galleria dell\'Accademia â€“ David', icon:'ğŸ—¿', day:'sat', lat:43.77672, lng:11.25815,
    desc:'Michelangelo\'s David (1501â€“1504) â€” 5.17m of perfect Carrara marble. One of the greatest artworks ever made.',
    tip:'Book in advance at galleriaaccademiafirenze.it (â‚¬12â€“20). Opens 8:15am. Go early. Allow 1.5 hrs.',
    book:true, opt:false,
    mapsUrl:'https://maps.google.com/?q=Galleria+dell+Accademia+Florence' },

  { id:'cappelle-med', name:'Cappelle Medicee', icon:'âš°ï¸', day:'sat', lat:43.77541, lng:11.25275,
    desc:'The Medici mausoleum â€” Michelangelo\'s Night, Day, Dawn & Dusk sculpted for the family tombs.',
    tip:'Entry â‚¬9. Closed 1st/3rd/5th Sun and 2nd/4th Mon. Worth 45 min.',
    book:false, opt:true,
    mapsUrl:'https://maps.google.com/?q=Cappelle+Medicee+Florence' },

  { id:'pitti', name:'Palazzo Pitti', icon:'ğŸ‘‘', day:'sat', lat:43.76511, lng:11.24976,
    desc:'Enormous Medici palace. The Palatine Gallery holds Raphael, Titian, and Rubens.',
    tip:'Combo with Boboli Gardens â‚¬16. Palatine Gallery is the highlight. Allow 1.5 hrs.',
    book:false, opt:false,
    mapsUrl:'https://maps.google.com/?q=Palazzo+Pitti+Florence' },

  { id:'boboli', name:'Boboli Gardens', icon:'ğŸŒ¿', day:'sat', lat:43.76295, lng:11.25087,
    desc:'Renaissance gardens behind Pitti â€” fountains, grottos, cypress alleys, and panoramic views.',
    tip:'Included with Pitti combo (â‚¬16). Exit from the top for views toward Piazzale Michelangelo.',
    book:false, opt:true,
    mapsUrl:'https://maps.google.com/?q=Boboli+Gardens+Florence' },

  { id:'santo-spirito', name:'Piazza Santo Spirito', icon:'â›ª', day:'sat', lat:43.76541, lng:11.24806,
    desc:'The most laid-back square in Florence. Sunday antique market, great cafes and local restaurants all around.',
    tip:'Sunday market 9amâ€“7pm (seasonal â€” confirm locally). Basilica has a Michelangelo crucifix.',
    book:false, opt:false,
    mapsUrl:'https://maps.google.com/?q=Piazza+Santo+Spirito+Florence' },

  { id:'babae', name:'Babae â€“ Buchette del Vino', icon:'ğŸ·', day:'sat', lat:43.76690, lng:11.24985,
    desc:'Order wine through a 400-year-old stone hatch (buchetta del vino). A uniquely Florentine tradition revived.',
    tip:'Via Santa Monaca 7r. Open afternoon onwards. Get a Chianti through the little door!',
    book:false, opt:false,
    mapsUrl:'https://maps.google.com/?q=Babae+Via+Santa+Monaca+Florence' },

  { id:'brancacci', name:'Cappella Brancacci', icon:'ğŸ¨', day:'sat', lat:43.76594, lng:11.24551,
    desc:'"Sistine Chapel of the Early Renaissance" â€” Masaccio\'s frescoes that changed Western art.',
    tip:'Book ahead (â‚¬10, limited 30 visitors at a time). Mon, Wedâ€“Sat 10amâ€“5pm, Sun 1â€“5pm.',
    book:true, opt:true,
    mapsUrl:'https://maps.google.com/?q=Cappella+Brancacci+Florence' },

  { id:'piazzale', name:'Piazzale Michelangelo', icon:'ğŸŒ…', day:'sat', lat:43.76281, lng:11.26520,
    desc:'The definitive panoramic view of Florence â€” entire cityscape with Duomo, Campanile, Palazzo Vecchio.',
    tip:'Feb sunset ~17:45. Walk up from Oltrarno (~20 min steep) or Bus 13. Arrive 30 min early.',
    book:false, opt:false,
    mapsUrl:'https://maps.google.com/?q=Piazzale+Michelangelo+Florence' },

  { id:'san-miniato', name:'Basilica di San Miniato al Monte', icon:'ğŸ•', day:'sat', lat:43.75742, lng:11.26572,
    desc:'Beautiful Romanesque church above Piazzale Michelangelo. Monks sing Vespers at 5:30pm.',
    tip:'Free entry. 5 min walk uphill from Piazzale. Vespers (5:30pm) is hauntingly beautiful.',
    book:false, opt:true,
    mapsUrl:'https://maps.google.com/?q=Basilica+San+Miniato+al+Monte+Florence' },

  { id:'reggia', name:'La Reggia degli Etruschi âœ…', icon:'ğŸ½ï¸', day:'sat', lat:43.8022, lng:11.2982,
    desc:'BOOKED at 19:30. Dinner in the hills of Fiesole â€” panoramic views over Florence. Magical setting.',
    tip:'Taxi from Piazzale Michelangelo ~15 min (~â‚¬20â€“25). Return taxi ~â‚¬25â€“30.',
    book:true, opt:false,
    mapsUrl:'https://maps.app.goo.gl/pfFNhVKDHgZfW9hn7' },

  // SUNDAY
  { id:'piazza-rep', name:'Piazza della Repubblica', icon:'â˜•', day:'sun', lat:43.77160, lng:11.25385,
    desc:'Grand 19th-century square. Historic CaffÃ¨ Gilli (since 1733), vintage carousel, triumphal arch.',
    tip:'A coffee at Gilli is pricey but worth it on your last morning. Stand at the bar!',
    book:false, opt:false,
    mapsUrl:'https://maps.google.com/?q=Piazza+della+Repubblica+Florence' },

  { id:'vivoli', name:'Vivoli â€“ Gelato dal 1929', icon:'ğŸ¦', day:'sun', lat:43.76938, lng:11.25973,
    desc:'Florence\'s oldest gelateria. Famous creamy gelato â€” no cones, only cups. Order an affogato!',
    tip:'Via dell\'Isola delle Stinche 7. Closed Mon. Try rice, coffee, or chocolate.',
    book:false, opt:false,
    mapsUrl:'https://maps.google.com/?q=Vivoli+Gelateria+Florence' },

  { id:'odeon', name:'Odeon Cinema', icon:'ğŸ¬', day:'sun', lat:43.77280, lng:11.25150,
    desc:'1920s Art Deco cinema inside a historic palazzo. Screens original-version English films.',
    tip:'Worth visiting just for the architecture. Check odeon.it for their OV programme.',
    book:false, opt:true,
    mapsUrl:'https://maps.google.com/?q=Odeon+Cinema+Florence' },

  // FOOD (any day, shown on map)
  { id:'vinaio2', name:'L\'Girone de\' Ghiotti', icon:'ğŸ¥ª', day:'fri', lat:43.77350, lng:11.25720,
    desc:'Casual Florentine sandwiches and crostini â€” great for a quick local lunch near the Duomo.',
    tip:'Simple and authentic. Great crostini misti and house wine.',
    book:false, opt:true,
    mapsUrl:'https://maps.google.com/?q=Il+Girone+dei+Ghiotti+Florence' },

  { id:'retrobottega', name:'Retrobottega', icon:'ğŸ¥ª', day:'fri', lat:43.76998, lng:11.25295,
    desc:'Creative modern Tuscan sandwiches â€” a cut above the usual panino. Near the hotel.',
    tip:'Small spot, can get busy at lunch.',
    book:false, opt:true,
    mapsUrl:'https://maps.google.com/?q=Retrobottega+Florence' },

  { id:'panino-chianti', name:'Il Panino del Chianti', icon:'ğŸ¥ª', day:'fri', lat:43.76900, lng:11.25420,
    desc:'Excellent Chianti-region sandwiches near the Uffizi area.',
    tip:'Casual and quick. Pair with a glass of Chianti.',
    book:false, opt:true,
    mapsUrl:'https://maps.google.com/?q=Il+Panino+del+Chianti+Florence' },
];

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   CHRISTINA'S PICKS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
const CHRIS = [
  { id:'c01', name:'La Gelatiera',           lat:43.76892, lng:11.25100, type:'Ice Cream',          rating:'4.8â­', desc:'Top-rated artisanal gelato â€” Christina\'s absolute favourite.',                                              url:'https://maps.google.com/?q=La+Gelatiera+Florence' },
  { id:'c02', name:'Braceria All\'11',        lat:43.77230, lng:11.24900, type:'Restaurant',          rating:'4.8â­', desc:'Excellent meat restaurant â€” great for a proper Florentine dinner.',                                         url:'https://maps.google.com/?q=Braceria+All+11+Florence' },
  { id:'c03', name:'Osteria Belguardo',       lat:43.76800, lng:11.24600, type:'Italian',             rating:'4.5â­', desc:'Lovely Oltrarno osteria â€” warm, local, great value.',                                                       url:'https://maps.google.com/?q=Osteria+Belguardo+Florence' },
  { id:'c04', name:'il Pacchero â€“ pizza',     lat:43.77556, lng:11.26100, type:'Pizza â‚¬20â€“30',        rating:'4.6â­', desc:'Great pizza spot a little further from the tourist crowd.',                                                 url:'https://maps.google.com/?q=il+Pacchero+Florence' },
  { id:'c05', name:'Le Barrique',             lat:43.77100, lng:11.25300, type:'Italian Wine Bar',    rating:'4.2â­', desc:'Cosy wine bar with small plates and great atmosphere.',                                                    url:'https://maps.google.com/?q=Le+Barrique+Florence' },
  { id:'c06', name:'Trattoria Giovanni',      lat:43.77440, lng:11.25460, type:'Restaurant â‚¬20â€“30',   rating:'4.8â­', desc:'One of Florence\'s most beloved trattorias â€” incredibly highly rated by locals.',                          url:'https://maps.google.com/?q=Trattoria+Giovanni+Florence' },
  { id:'c07', name:'Madova Gloves',           lat:43.76800, lng:11.24950, type:'Leather Goods',       rating:'4.7â­', desc:'Famous leather glove maker since 1919 â€” crafted to your hand size. Unique Florentine souvenir.',           url:'https://maps.google.com/?q=Madova+Florence' },
  { id:'c08', name:'Trattoria Mario',         lat:43.77600, lng:11.25430, type:'Tuscan â‚¬20â€“30',       rating:'4.6â­', desc:'Legendary workers\' trattoria near Mercato Centrale. Communal tables â€” arrive before noon!',                url:'https://maps.google.com/?q=Trattoria+Mario+Florence' },
  { id:'c09', name:'Da\' Vinattieri',          lat:43.76840, lng:11.25700, type:'Lampredotto â‚¬1â€“10',   rating:'4.7â­', desc:'Tiny spot for lampredotto (Florentine tripe sandwich). The most authentic street food in the city.',       url:'https://maps.google.com/?q=Da+Vinattieri+Florence' },
  { id:'c10', name:'Trattoria Dall\'Oste',    lat:43.77380, lng:11.25660, type:'Steak Â£Â£',            rating:'4.7â­', desc:'Famous for bistecca alla Fiorentina. Bring an appetite.',                                                  url:'https://maps.google.com/?q=Trattoria+Dall+Oste+Florence' },
  { id:'c11', name:'La Giostra',              lat:43.76980, lng:11.26100, type:'Italian Â£Â£Â£',         rating:'4.3â­', desc:'Charming restaurant run by a descendant of the Medici family. Worth the splurge.',                        url:'https://maps.google.com/?q=La+Giostra+Florence' },
  { id:'c12', name:'Trattoria La Casalinga',  lat:43.76550, lng:11.24700, type:'Tuscan â‚¬20â€“30',       rating:'4.5â­', desc:'Old-school Oltrarno trattoria â€” great value, deeply authentic. Get there early.',                          url:'https://maps.google.com/?q=Trattoria+La+Casalinga+Florence' },
  { id:'c13', name:'Gustapizza',              lat:43.76610, lng:11.24680, type:'Pizza â‚¬10â€“20',        rating:'4.5â­', desc:'Beloved Oltrarno pizza â€” tiny spot with a queue outside. Worth it.',                                      url:'https://maps.google.com/?q=Gustapizza+Florence' },
  { id:'c14', name:'Gelateria dei Neri',      lat:43.76800, lng:11.25650, type:'Ice Cream Â£Â£',        rating:'4.7â­', desc:'Excellent gelato near Santa Croce â€” never disappoints.',                                                   url:'https://maps.google.com/?q=Gelateria+dei+Neri+Florence' },
  { id:'c15', name:'La Strega Nocciola',      lat:43.76820, lng:11.25230, type:'Ice Cream Â£Â£',        rating:'4.7â­', desc:'Artisanal gelato near Ponte Vecchio. The hazelnut is exceptional.',                                       url:'https://maps.google.com/?q=La+Strega+Nocciola+Ponte+Vecchio+Florence' },
  { id:'c16', name:'Gelateria La Carraia',    lat:43.76760, lng:11.25000, type:'Ice Cream â‚¬',         rating:'4.7â­', desc:'Beloved gelateria near Ponte alla Carraia â€” incredible quality and value.',                               url:'https://maps.google.com/?q=Gelateria+La+Carraia+Florence' },
  { id:'c17', name:'La CitÃ©',                 lat:43.76600, lng:11.24650, type:'Bistro/Books Â£',      rating:'4.5â­', desc:'Charming bookshop bistro in Oltrarno â€” great coffee and laid-back atmosphere.',                           url:'https://maps.google.com/?q=La+Cite+Florence' },
  { id:'c18', name:'Rooster Cafe',            lat:43.77600, lng:11.25000, type:'Brunch â‚¬10â€“20',       rating:'4.8â­', desc:'Top-rated brunch spot. Perfect for a relaxed Saturday morning start.',                                    url:'https://maps.google.com/?q=Rooster+Cafe+Firenze' },
  { id:'c19', name:'Trattoria I\'raddi',      lat:43.76580, lng:11.24780, type:'Restaurant â‚¬20â€“30',   rating:'4.5â­', desc:'Local favourite in Oltrarno. Homestyle Tuscan cooking, incredibly friendly.',                             url:'https://maps.google.com/?q=Trattoria+Iraddi+Florence' },
  { id:'c20', name:'La MÃ©nagÃ¨re',             lat:43.77140, lng:11.25280, type:'Restaurant/Bar Â£Â£',   rating:'4.2â­', desc:'Beautiful restaurant and lifestyle concept store. Great for aperitivo.',                                 url:'https://maps.google.com/?q=La+Menagere+Florence' },
  { id:'c21', name:'La Fettunta',             lat:43.76610, lng:11.24750, type:'Tuscan â‚¬10â€“30',       rating:'4.7â­', desc:'Excellent Tuscan food in Oltrarno â€” unpretentious and deeply satisfying.',                               url:'https://maps.google.com/?q=La+Fettunta+Florence' },
  { id:'c22', name:'Osteria Santo Spirito',   lat:43.76541, lng:11.24770, type:'Restaurant â‚¬20â€“30',   rating:'4.4â­', desc:'On Piazza Santo Spirito. Great outdoor seating and classic Tuscan dishes.',                              url:'https://maps.google.com/?q=Osteria+Santo+Spirito+Florence' },
  { id:'c23', name:'La Terrazza Rooftop Bar', lat:43.76820, lng:11.25260, type:'Bar/Views',           rating:'3.6â­', desc:'Hotel Continentale rooftop bar â€” views over Ponte Vecchio. Pricey but the setting is iconic.',           url:'https://maps.google.com/?q=La+Terrazza+Hotel+Continentale+Florence' },
];

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   ITINERARY
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
const ITIN = [
  { day:'thu', title:'Thursday â€“ Arrival Night', color:'#888888',
    subtitle:'Late arrival Â· Just check in & rest',
    stats:[],
    stops:[
      { time:'Late', icon:'âœˆï¸', name:'Arrive in Florence',
        desc:'Head straight to Hotel Berchielli (Lungarno Acciaiuoli 14). If you have energy, it\'s 2 minutes to Ponte Vecchio at night â€” spectacular.',
        badges:[] },
      { time:'Night', icon:'ğŸ¨', name:'Hotel Berchielli â€“ Check In',
        desc:'Front desk is 24h. Settle in and rest â€” big days ahead.', badges:[] },
    ]},

  { day:'fri', title:'Friday â€“ Heart of Florence', color:C.fri,
    subtitle:'Full day Â· ~7 km walking Â· Dinner 19:30 booked',
    stats:['~7 km', '~90 min walks', 'Dinner 19:30'],
    stops:[
      { time:'8:00', icon:'â˜•', name:'Breakfast',
        desc:'Italian colazione â€” espresso + cornetto at a local bar. Stand at the counter, it\'s cheaper and more authentic.',
        badges:[] },
      { tr:'ğŸš¶ From hotel â†’ 12 min Â· 1.0 km' },
      { time:'9:00â€“10:00', icon:'ğŸŒ¿', name:'Farmaceutica di Santa Maria Novella',
        desc:'The world\'s oldest pharmacy (1221) in a frescoed chapel. Divine perfumes and potions. A uniquely Florentine experience.',
        badges:['ğŸŒ¿ Open 9am'], loc:'smn-farm' },
      { tr:'ğŸš¶ 2 min Â· 0.15 km' },
      { time:'10:00â€“10:30', icon:'â›ª', name:'Basilica di Santa Maria Novella',
        desc:'Gothic marble faÃ§ade â€” one of Florence\'s best. Masaccio\'s Trinity fresco inside changed the history of painting. Entry â‚¬7.50.',
        badges:['ğŸŸï¸ â‚¬7.50'], loc:'basilica-novella' },
      { tr:'ğŸš¶ 8 min Â· 0.6 km' },
      { time:'10:30â€“11:30', icon:'ğŸ›’', name:'Mercato Centrale',
        desc:'Browse the stunning covered market. Ground floor: fresh produce, cheese, meats, lampredotto. Upstairs food court. Breakfast espresso if you haven\'t yet!',
        badges:['ğŸ†“ Free entry'], loc:'mercato-centrale' },
      { tr:'ğŸš¶ 12 min Â· 0.9 km' },
      { time:'11:30â€“13:00', icon:'ğŸ›ï¸', name:'Duomo Complex',
        desc:'Stand beneath Brunelleschi\'s dome and feel awed. The Baptistery\'s golden Gates of Paradise are stunning. If you booked the combo â€” climb the Campanile for the best views in Florence.',
        badges:['ğŸ†“ Cathedral free', 'ğŸ“‹ â‚¬30 combo if booked', 'âš¡ Campanile optional'], loc:'duomo' },
      { tr:'ğŸš¶ 10 min Â· 0.75 km' },
      { time:'13:00â€“14:00', icon:'ğŸ¥ª', name:'Lunch â€“ All\'Antico Vinaio',
        desc:'Florence\'s most famous sandwich shop. Giant schiacciata bread stuffed with finocchiona, truffle cream, roasted peppers, pecorino. One of the best bites of the trip.',
        badges:['ğŸ¥ª Via dei Neri 74/76', 'ğŸ’¶ ~â‚¬8â€“10', 'â° Arrive early!'], loc:'vinaio' },
      { tr:'ğŸš¶ 5 min Â· 0.35 km' },
      { time:'14:00â€“15:30', icon:'ğŸŸï¸', name:'Piazza della Signoria & Loggia dei Lanzi',
        desc:'Free open-air museum â€” Neptune Fountain, David copy, Perseus by Cellini, the Rape of the Sabine Women. The Palazzo Vecchio tower soars above it all.',
        badges:['ğŸ†“ All free'], loc:'signoria' },
      { tr:'ğŸš¶ 8 min Â· 0.5 km' },
      { time:'15:30â€“16:30', icon:'ğŸŒ‰', name:'Ponte Vecchio & Arno Walk',
        desc:'Stroll the medieval bridge lined with jewellers. Walk the Lungarno (river embankment) back toward the hotel in the afternoon light. Magical.',
        badges:['ğŸ†“ Free'], loc:'ponte-vecchio' },
      { tr:'ğŸš¶ 5 min back to hotel' },
      { time:'16:30â€“18:30', icon:'ğŸ¨', name:'Rest & Freshen Up',
        desc:'You\'ve earned it after 7 km! Rest at the hotel. Optional: walk 10 min to Vivoli for an affogato (espresso over gelato).',
        badges:[] },
      { tr:'ğŸš¶ 15 min from hotel Â· 1.1 km' },
      { time:'19:30', icon:'ğŸ·', name:'Dinner â€“ Trattoria ZÃ  ZÃ  âœ…',
        desc:'Your reservation! Classic Florentine trattoria near Mercato Centrale. Must-tries: ribollita (Tuscan bread soup), pappardelle al cinghiale (wild boar pasta), bistecca alla Fiorentina. Pair with Chianti Classico.',
        badges:['âœ… Booked 19:30', 'ğŸ½ï¸ Classic Florentine'], loc:'zaza' },
    ]},

  { day:'sat', title:'Saturday â€“ Oltrarno, Sunset & Fiesole', color:C.sat,
    subtitle:'Full day Â· ~9 km Â· Piazzale at sunset Â· Dinner 19:30 Fiesole',
    stats:['~9 km', 'Sunset ~17:45', 'Taxi to Fiesole'],
    stops:[
      { time:'7:45', icon:'â˜•', name:'Quick Breakfast',
        desc:'Early start for the Accademia. Espresso and cornetto nearby. Or head to Rooster Cafe (Christina\'s rec) if you book the later Accademia slot.',
        badges:[] },
      { tr:'ğŸš¶ 20 min from hotel Â· 1.5 km' },
      { time:'8:15â€“10:00', icon:'ğŸ—¿', name:'Galleria dell\'Accademia â€“ The David',
        desc:'Michelangelo carved this from a single block of Carrara marble over 2 years (1501â€“1504). 5.17 m of perfection. The hall of Prisoners (unfinished Michelangelo figures) leading to David is profoundly moving.',
        badges:['ğŸ“‹ Must book!', 'ğŸŸï¸ â‚¬12â€“20', 'â± Allow 1.5 hrs'], loc:'accademia' },
      { tr:'ğŸš¶ 12 min Â· 0.9 km' },
      { time:'10:00â€“11:00', icon:'âš°ï¸', name:'Cappelle Medicee (optional)',
        desc:'The Medici mausoleum. Michelangelo\'s four allegorical figures â€” Night, Day, Dawn, Dusk â€” are uncanny and haunting.',
        badges:['âš¡ Optional', 'ğŸŸï¸ â‚¬9', 'â± 45 min'], loc:'cappelle-med' },
      { tr:'ğŸš¶ 15 min Â· cross Ponte Vecchio Â· 1.1 km' },
      { time:'11:30', icon:'ğŸŒ‰', name:'Cross into Oltrarno',
        desc:'Cross Ponte Vecchio to the quieter, more local south bank. The Oltrarno feels like a different city â€” artisan workshops, neighbourhood bars, real Florence.',
        badges:[], loc:'ponte-vecchio' },
      { tr:'ğŸš¶ 10 min Â· 0.7 km' },
      { time:'13:00â€“14:30', icon:'ğŸ', name:'Lunch in Oltrarno',
        desc:'Several brilliant options:\nâ€¢ Trattoria La Casalinga â€” legendary old-school, great value\nâ€¢ Gustapizza â€” queue-worthy pizza\nâ€¢ Osteria Santo Spirito â€” outdoor tables on the piazza\nâ€¢ La Fettunta â€” excellent Tuscan classics\nâ€¢ Trattoria I\'raddi (Christina\'s pick)',
        badges:['ğŸ’¡ All within 5 min of Pitti'] },
      { tr:'ğŸš¶ 10 min Â· 0.7 km' },
      { time:'14:30â€“16:00', icon:'ğŸ‘‘', name:'Palazzo Pitti & Boboli Gardens',
        desc:'Enormous Medici palace with the Palatine Gallery â€” Raphael, Titian, Rubens. Boboli Gardens behind have fountains, grottos, cypress alleys, and sweeping views over Florence.',
        badges:['ğŸŸï¸ â‚¬16 combo', 'â± Allow 1.5 hrs'], loc:'pitti' },
      { tr:'ğŸš¶ 5 min Â· 0.35 km' },
      { time:'16:00â€“16:30', icon:'â›ª', name:'Piazza Santo Spirito',
        desc:'The best square in Oltrarno. Grab an aperitivo, check if the Sunday antique market is running (9amâ€“7pm). The basilica has a Michelangelo crucifix in the sacristy.',
        badges:['ğŸ› Sunday market (check locally)', 'ğŸ†“ Free'], loc:'santo-spirito' },
      { tr:'ğŸš¶ 5 min Â· 0.35 km' },
      { time:'16:30â€“17:00', icon:'ğŸ·', name:'Babae â€“ Buchette del Vino',
        desc:'Order wine through a tiny 17th-century stone hatch in the palazzo wall. Babae revived this historic Florentine tradition. Get a glass of Chianti through the little door!',
        badges:['ğŸ· Via Santa Monaca 7r', 'ğŸ’¶ ~â‚¬4â€“6'], loc:'babae' },
      { tr:'ğŸš¶ 20 min uphill (or Bus 13) Â· 1.4 km' },
      { time:'17:15â€“18:15', icon:'ğŸŒ…', name:'Piazzale Michelangelo â€“ Sunset',
        desc:'The definitive panoramic view of Florence. February sunset is around 17:45 â€” arrive early for a good spot. The entire skyline with Duomo, Campanile, and Palazzo Vecchio in golden light is unforgettable.',
        badges:['ğŸŒ‡ Sunset ~17:45 Feb', 'ğŸšŒ Bus 13 option', 'ğŸ†“ Free'], loc:'piazzale' },
      { tr:'ğŸš¶ 5â€“10 min uphill (optional)' },
      { time:'18:15', icon:'ğŸ•', name:'San Miniato al Monte (optional)',
        desc:'5 min uphill from Piazzale Michelangelo. Free entry, extraordinary Romanesque church. Vespers (monks singing) at 5:30pm is hauntingly beautiful.',
        badges:['âš¡ Optional', 'ğŸ†“ Free', 'ğŸ”” Vespers 5:30pm'], loc:'san-miniato' },
      { tr:'ğŸš• Taxi from Piazzale Michelangelo Â· ~15â€“20 min Â· ~â‚¬20â€“25' },
      { time:'19:30', icon:'ğŸ·', name:'Dinner â€“ La Reggia degli Etruschi âœ…',
        desc:'Your Saturday dinner in the hills of Fiesole! Panoramic views over Florence from above. Tuscan cuisine in an extraordinary hillside setting â€” this will be a lasting memory.',
        badges:['âœ… Booked 19:30', 'ğŸ“ Fiesole', 'ğŸŒƒ Views over Florence'], loc:'reggia' },
      { time:'After dinner', icon:'ğŸš•', name:'Taxi Back to Hotel',
        desc:'~20â€“25 min back down into Florence (~â‚¬25â€“30 from Fiesole). Enjoy the night view as you descend.',
        badges:['ğŸš• ~25 min Â· ~â‚¬25â€“30'] },
    ]},

  { day:'sun', title:'Sunday â€“ Last Morning', color:C.sun,
    subtitle:'Morning only Â· Leave for airport ~15:00 âœˆï¸',
    stats:['~4 km', 'Check out 12pm', 'Airport 15:00'],
    stops:[
      { time:'8:00', icon:'â˜•', name:'Last Italian Breakfast',
        desc:'Savour your final espresso al bar. Stand at the counter, sip slowly, watch Florentines begin their Sunday.',
        badges:[] },
      { tr:'ğŸš¶ 12 min from hotel Â· 0.9 km' },
      { time:'8:15â€“10:30', icon:'ğŸ–¼ï¸', name:'Uffizi Galleries (if booked)',
        desc:'Botticelli\'s Birth of Venus & Primavera, da Vinci\'s Annunciation, Raphael\'s portraits, Michelangelo\'s Doni Tondo. If booked, this is one of the greatest 2 hours in Florence.',
        badges:['ğŸ“‹ Book at uffizi.it', 'âš¡ Optional', 'ğŸŸï¸ â‚¬20â€“25', 'â± Allow 2 hrs'], loc:'uffizi' },
      { tr:'ğŸš¶ 8 min Â· 0.6 km' },
      { time:'10:30â€“11:30', icon:'â˜•', name:'CaffÃ¨ Gilli â€“ Piazza della Repubblica',
        desc:'Historic cafÃ© since 1733 on Florence\'s grandest 19th-century square. Coffee and pastry as a proper treat on your last morning.',
        badges:['â˜• Since 1733', 'ğŸ  Vintage carousel in the square'], loc:'piazza-rep' },
      { tr:'ğŸš¶ 10 min Â· 0.75 km' },
      { time:'11:30â€“12:30', icon:'ğŸ¦', name:'Vivoli â€“ Farewell Affogato',
        desc:'Florence\'s oldest gelateria since 1929. End your trip with an affogato â€” espresso poured over vanilla gelato. No cones, only cups. The perfect farewell to Florence.',
        badges:['ğŸ¦ Since 1929', 'â˜• Get the affogato!', 'ğŸ’¶ â‚¬2â€“4'], loc:'vivoli' },
      { tr:'ğŸš¶ 10 min back to hotel' },
      { time:'13:00', icon:'ğŸ¨', name:'Hotel Checkout & Pack',
        desc:'Collect luggage, check out, settle extras. Book your taxi to the airport in advance.',
        badges:[] },
      { time:'15:00', icon:'âœˆï¸', name:'Leave for Florence Airport',
        desc:'Taxi to Aeroporto Amerigo Vespucci (Peretola) â€” ~20â€“25 min from the hotel. Arrivederci, Firenze! ğŸŒ¸',
        badges:['ğŸš• ~20â€“25 min', 'âœˆï¸ Aeroporto di Firenze'] },
    ]},
];

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   TAB SWITCHING
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
function switchTab(tab) {
  document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
  document.querySelectorAll('.pane').forEach(p => p.classList.remove('active'));
  document.getElementById(`tab-${tab}-btn`).classList.add('active');
  document.getElementById(`pane-${tab}`).classList.add('active');
  if (tab === 'map') setTimeout(() => map.invalidateSize(), 100);
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   TOAST
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
let toastTimer;
function showToast(msg) {
  const t = document.getElementById('toast');
  t.textContent = msg;
  t.classList.add('show');
  clearTimeout(toastTimer);
  toastTimer = setTimeout(() => t.classList.remove('show'), 2200);
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   MAP
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
const map = L.map('map', { center:[43.7700, 11.2530], zoom:14, zoomControl:false });
L.control.zoom({ position:'bottomright' }).addTo(map);
L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
  attribution:'Â© <a href="https://openstreetmap.org">OpenStreetMap</a>',
  maxZoom:19,
}).addTo(map);

// Marker factory
function mkIcon(emoji, bg, sz=34) {
  return L.divIcon({
    html:`<div class="cm" style="width:${sz}px;height:${sz}px;background:${bg};font-size:${Math.round(sz*.44)}px">${emoji}</div>`,
    iconSize:[sz,sz], iconAnchor:[sz/2,sz/2], popupAnchor:[0,-sz/2-2], className:'',
  });
}
function christIcon() {
  return L.divIcon({
    html:`<div class="cm" style="width:27px;height:27px;background:linear-gradient(135deg,#FF6B9D,#C042B0);font-size:12px">â­</div>`,
    iconSize:[27,27], iconAnchor:[13,13], popupAnchor:[0,-15], className:'',
  });
}

// Popup builders
function dayName(d) { return {fri:'Friday',sat:'Saturday',sun:'Sunday'}[d]||d; }
function mainPopup(loc) {
  const col = C[loc.day]||'#888';
  return `<div class="pw">
    <div class="pw-name">${loc.icon} ${loc.name}</div>
    <div class="pw-desc">${loc.desc}</div>
    ${loc.tip?`<div class="pw-tip">ğŸ’¡ ${loc.tip}</div>`:''}
    <div class="pw-tags">
      <span class="pw-tag t-day" style="background:${col}">${dayName(loc.day)}</span>
      ${loc.book?'<span class="pw-tag t-book">ğŸ“‹ Book ahead</span>':''}
      ${loc.opt?'<span class="pw-tag t-opt">Optional</span>':''}
    </div>
    <div class="pw-btns">
      <a href="${loc.mapsUrl}" target="_blank" class="pw-btn btn-gm">ğŸ—ºï¸ Open Maps</a>
      <a href="https://www.google.com/maps/dir/?api=1&destination=${loc.lat},${loc.lng}" target="_blank" class="pw-btn btn-dir">ğŸ“ Directions</a>
    </div>
  </div>`;
}
function chrisPopup(r) {
  return `<div class="pw">
    <div class="pw-sub">â­ Christina's Recommendation</div>
    <div class="pw-name">${r.name}</div>
    <div style="font-size:12px;font-weight:700;color:${C.ch};margin-bottom:5px">${r.rating} Â· ${r.type}</div>
    <div class="pw-desc">${r.desc}</div>
    <div class="pw-btns">
      <a href="${r.url}" target="_blank" class="pw-btn btn-gm">ğŸ—ºï¸ Open Maps</a>
      <a href="https://www.google.com/maps/dir/?api=1&destination=${r.lat},${r.lng}" target="_blank" class="pw-btn btn-dir">ğŸ“ Directions</a>
    </div>
  </div>`;
}

// Hotel
const hotelMarker = L.marker([HOTEL.lat, HOTEL.lng], { icon: mkIcon('ğŸ¨', C.hotel, 42) })
  .bindPopup(`<div class="pw"><div class="pw-name">ğŸ¨ ${HOTEL.name}</div><div class="pw-desc">${HOTEL.desc}</div><div class="pw-btns"><a href="${HOTEL.mapsUrl}" target="_blank" class="pw-btn btn-gm">ğŸ—ºï¸ Open Maps</a></div></div>`)
  .addTo(map);

// Main markers
const markerMap = {}; // id â†’ marker (for fly-to from itinerary)
const byDay = { fri:[], sat:[], sun:[] };
LOCS.forEach(loc => {
  const col = C[loc.day]||'#888';
  const m = L.marker([loc.lat, loc.lng], { icon: mkIcon(loc.icon, col) })
    .bindPopup(mainPopup(loc), { maxWidth:300 })
    .addTo(map);
  markerMap[loc.id] = m;
  if (byDay[loc.day]) byDay[loc.day].push(m);
});

// Christina markers
const chMarkers = [];
CHRIS.forEach(r => {
  const m = L.marker([r.lat, r.lng], { icon: christIcon() })
    .bindPopup(chrisPopup(r), { maxWidth:280 })
    .addTo(map);
  chMarkers.push(m);
});

// Route polylines
const ROUTES = {
  fri:[ [HOTEL.lat,HOTEL.lng],[43.77445,11.24969],[43.77452,11.24901],[43.77616,11.25381],
        [43.77308,11.25600],[43.76862,11.25548],[43.76979,11.25592],
        [43.76803,11.25312],[HOTEL.lat,HOTEL.lng],[43.77659,11.25431] ],
  sat:[ [HOTEL.lat,HOTEL.lng],[43.77672,11.25815],[43.77541,11.25275],
        [43.76803,11.25312],[43.76511,11.24976],[43.76541,11.24806],
        [43.76690,11.24985],[43.76281,11.26520],[43.8022,11.2982] ],
  sun:[ [HOTEL.lat,HOTEL.lng],[43.76787,11.25535],[43.77160,11.25385],
        [43.76938,11.25973],[HOTEL.lat,HOTEL.lng] ],
};
const routeLayers = {};
Object.entries(ROUTES).forEach(([d,coords]) => {
  routeLayers[d] = L.polyline(coords, { color:C[d], weight:3, opacity:.65, dashArray:'9,7' }).addTo(map);
});

// Fly-to from itinerary
function flyToLocation(id) {
  const loc = LOCS.find(l => l.id === id);
  if (!loc) return;
  switchTab('map');
  setTimeout(() => {
    map.flyTo([loc.lat, loc.lng], 17, { duration: 1.2 });
    setTimeout(() => {
      if (markerMap[id]) markerMap[id].openPopup();
    }, 1300);
  }, 150);
  showToast(`ğŸ“ ${loc.name}`);
}

// Filter chips
const ctrl = document.getElementById('mapControls');
const vis = { fri:true, sat:true, sun:true, ch:true };

function mkChip(label, col, key, isCh=false) {
  const el = document.createElement('label');
  el.className = 'chip';
  el.style.cssText = `border-color:${col};color:${col};background:${col}15`;
  el.innerHTML = `<input type="checkbox" checked><span class="dot" style="background:${col}"></span>${label}`;
  el.querySelector('input').addEventListener('change', e => {
    const on = e.target.checked;
    vis[key] = on;
    el.classList.toggle('off', !on);
    if (isCh) {
      chMarkers.forEach(m => on ? m.addTo(map) : map.removeLayer(m));
    } else {
      byDay[key]?.forEach(m => on ? m.addTo(map) : map.removeLayer(m));
      if (routeLayers[key]) on ? routeLayers[key].addTo(map) : map.removeLayer(routeLayers[key]);
    }
  });
  return el;
}
ctrl.appendChild(mkChip('Friday',       C.fri, 'fri'));
ctrl.appendChild(mkChip('Saturday',     C.sat, 'sat'));
ctrl.appendChild(mkChip('Sunday',       C.sun, 'sun'));
ctrl.appendChild(mkChip("â­ Christina's", C.ch, 'ch', true));

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   ITINERARY RENDER
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
const itinEl = document.getElementById('itinerary');

itinEl.innerHTML = `
  <div class="overview">
    <h3>ğŸ“Œ Trip at a Glance</h3>
    <div class="ov-grid">
      <div class="ov-item"><strong>ğŸ¨ Hotel</strong><span>Berchielli, Lungarno Acciaiuoli</span></div>
      <div class="ov-item"><strong>ğŸ“… Dates</strong><span>Thu 19 â€“ Sun 22 Feb 2026</span></div>
      <div class="ov-item"><strong>ğŸ· Fri dinner</strong><span>Trattoria ZÃ  ZÃ  Â· 19:30</span></div>
      <div class="ov-item"><strong>ğŸ· Sat dinner</strong><span>La Reggia Etruschi Â· 19:30</span></div>
      <div class="ov-item"><strong>âœˆï¸ Departure</strong><span>Sunday ~15:00</span></div>
      <div class="ov-item"><strong>ğŸš¶ Total walking</strong><span>~18â€“20 km over 3 days</span></div>
    </div>
  </div>
  <div class="book-card">
    <h3>ğŸ“‹ Book These Before You Go!</h3>
    <div class="book-item">ğŸ›ï¸ <span><strong>Duomo combo</strong> (dome + campanile + baptistery) â€” <em>operaduomo.firenze.it</em> Â· â‚¬30</span></div>
    <div class="book-item">ğŸ—¿ <span><strong>Galleria Accademia</strong> (David) â€” <em>galleriaaccademiafirenze.it</em> Â· â‚¬12â€“20</span></div>
    <div class="book-item">ğŸ–¼ï¸ <span><strong>Uffizi</strong> (optional, Sunday) â€” <em>uffizi.it</em> Â· â‚¬20â€“25</span></div>
    <div class="book-item">ğŸ¨ <span><strong>Cappella Brancacci</strong> (optional, Sat) â€” <em>museicivicifiorentini.it</em> Â· â‚¬10</span></div>
  </div>`;

// Badge class helper
function badgeClass(b) {
  if (b.includes('ğŸ“‹') || b.includes('Book')) return 'b-book';
  if (b.includes('âœ…') || b.includes('ğŸ½ï¸') || b.includes('Booked')) return 'b-rest';
  if (b.includes('âš¡') || b.includes('Optional')) return 'b-opt';
  if (b.includes('ğŸš•') || b.includes('Taxi')) return 'b-taxi';
  return 'b-walk';
}

ITIN.forEach(day => {
  const sec = document.createElement('div');
  sec.className = 'day-section';

  const hdr = document.createElement('div');
  hdr.className = 'day-header';
  hdr.style.background = day.color;
  hdr.innerHTML = `<h2>${day.title}</h2><p>${day.subtitle}</p>`
    + (day.stats.length ? `<div class="day-stats">${day.stats.map(s=>`<span>${s}</span>`).join('')}</div>` : '');
  sec.appendChild(hdr);

  day.stops.forEach(s => {
    // Transit connector
    if (s.tr) {
      const t = document.createElement('div');
      t.className = 'transit';
      const icon = s.tr.startsWith('ğŸš•') ? 'ğŸš•' : 'ğŸš¶';
      t.innerHTML = `<span class="transit-ic">${icon}</span><span>${s.tr.replace(/^[ğŸš•ğŸš¶]\s*/,'')}</span>`;
      sec.appendChild(t);
      return;
    }

    const stopEl = document.createElement('div');
    stopEl.className = 'stop';

    const loc = s.loc ? LOCS.find(l => l.id === s.loc) : null;
    const badges = (s.badges||[]).map(b => `<span class="badge ${badgeClass(b)}">${b}</span>`).join('');
    const actions = loc ? `<div class="stop-acts">
      <button onclick="flyToLocation('${loc.id}')" class="s-btn" style="background:#FF6B35;color:white">ğŸ—ºï¸ Show on Map</button>
      <a href="${loc.mapsUrl}" target="_blank" class="s-btn" style="background:#4285F4;color:white">Google Maps</a>
      <a href="https://www.google.com/maps/dir/?api=1&destination=${loc.lat},${loc.lng}" target="_blank" class="s-btn" style="background:#0F9D58;color:white">Directions</a>
    </div>` : '';

    stopEl.innerHTML = `
      <div class="stop-time">${s.time}</div>
      <div class="stop-name">${s.icon} ${s.name}</div>
      <div class="stop-desc">${s.desc}</div>
      ${badges ? `<div class="stop-badges">${badges}</div>` : ''}
      ${actions}`;
    sec.appendChild(stopEl);
  });

  itinEl.appendChild(sec);
});

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   TIPS RENDER
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
const tipsEl = document.getElementById('tips');

const TIPS_DATA = [
  {
    icon:'ğŸš•', title:'Getting Around',
    items:[
      { icon:'ğŸš•', h:'Taxis',          b:'Use official white Florence taxis (metered). From hotel to Fiesole ~â‚¬20â€“25, airport ~â‚¬25â€“30. Apps: itTaxi (Italian Uber equivalent). Uber also works.' },
      { icon:'ğŸšŒ', h:'Bus 13',         b:'Runs from Piazza San Marco to Piazzale Michelangelo. Perfect if you don\'t want to walk uphill.' },
      { icon:'ğŸš¶', h:'Walking',         b:'Florence\'s historic centre is tiny â€” almost everything is within 15â€“20 min walk from Hotel Berchielli. Your best mode of transport!' },
      { icon:'ğŸ›µ', h:'E-scooters',     b:'Lime and Bird scooters are available. Useful for getting to Oltrarno quickly.' },
      { icon:'âœˆï¸', h:'Airport taxi',   b:'Aeroporto Amerigo Vespucci (Peretola/FLR) is ~20â€“25 min from hotel by taxi. Fixed fare ~â‚¬22â€“25.' },
    ]
  },
  {
    icon:'ğŸ½ï¸', title:'Eating & Drinking',
    items:[
      { icon:'â˜•', h:'Coffee culture',   b:'Espresso is sipped standing at the bar â€” it\'s cheaper too! Cappuccino is a morning drink only (Italians don\'t drink it after midday). A "caffÃ¨" = espresso.' },
      { icon:'ğŸ·', h:'Tipping',          b:'Not expected in Italy! Round up the bill or leave 1â€“2â‚¬ per person as a gesture at restaurants. Never tip at bars.' },
      { icon:'â°', h:'Meal times',       b:'Lunch 13:00â€“14:30, dinner not before 19:30 (most places). Going at 18:30 marks you as a tourist. Sunday lunches are long and leisurely.' },
      { icon:'ğŸ¥©', h:'Must-try dishes', b:'Bistecca alla Fiorentina (T-bone steak, huge), Ribollita (bread & vegetable soup), Pappardelle al cinghiale (wild boar pasta), Lampredotto (tripe sandwich), Schiacciata (flatbread).' },
      { icon:'ğŸ¦', h:'Gelato tips',     b:'Avoid gelato piled high in multicoloured mountains â€” that\'s for tourists. Look for gelato stored in metal containers with lids (artigianale). Vivoli, La Carraia, Gelateria dei Neri = the real deal.' },
    ]
  },
  {
    icon:'ğŸ›ï¸', title:'Visiting Churches & Sights',
    items:[
      { icon:'ğŸ‘—', h:'Dress code',      b:'Cover shoulders and knees to enter churches (Duomo, Santa Maria Novella, etc). Pack a scarf or light layer. You\'ll be turned away without it.' },
      { icon:'ğŸ“‹', h:'Book in advance', b:'Accademia (David), Uffizi, Duomo dome, and Brancacci Chapel all sell out â€” especially weekends. Book online before your trip.' },
      { icon:'ğŸŒ…', h:'Best times',      b:'Sights are best early morning (8â€“9am) or late afternoon. Avoid midday queues. Museums are quieter at opening.' },
      { icon:'ğŸ“·', h:'Photography',     b:'No flash photography inside churches. Uffizi allows photography without flash. The Brancacci Chapel is strictly no photos.' },
    ]
  },
  {
    icon:'ğŸ’¶', title:'Money & Payments',
    items:[
      { icon:'ğŸ’³', h:'Cards',           b:'Most places accept cards, but carry some cash (â‚¬50â€“100). Small bars, markets, and street food vendors are often cash-only.' },
      { icon:'ğŸ§', h:'ATMs',            b:'Use ATMs from Italian banks (Intesa Sanpaolo, UniCredit). Avoid standalone ATMs with extra fees. Your bank card will work fine.' },
      { icon:'ğŸ’¶', h:'Coperto',         b:'Many restaurants charge a "coperto" (cover charge) of â‚¬1.50â€“3 per person. It\'s normal and covers bread.' },
      { icon:'ğŸ§¾', h:'Receipts',        b:'Always take your receipt from restaurants and bars â€” in Italy there\'s a legal requirement and you can be fined for leaving without it.' },
    ]
  },
  {
    icon:'ğŸŒ¤ï¸', title:'February in Florence',
    items:[
      { icon:'ğŸŒ¡ï¸', h:'Weather',        b:'Expect 8â€“14Â°C. Can be chilly, possibly rainy. Dress in layers. A waterproof jacket is wise. Fewer tourists than summer â€” a real advantage!' },
      { icon:'ğŸ‘Ÿ', h:'Footwear',        b:'Comfortable walking shoes are essential â€” cobblestones are everywhere. Avoid new shoes; break them in before the trip.' },
      { icon:'ğŸŒ‡', h:'Sunset',          b:'Sunset in February Florence is around 17:40â€“17:50. Perfect for Piazzale Michelangelo on Saturday.' },
      { icon:'ğŸ¨', h:'Quieter season',  b:'February is off-peak â€” shorter queues, lower prices, more authentic atmosphere. Some minor restaurants may be closed Mon/Tue.' },
    ]
  },
  {
    icon:'ğŸ—£ï¸', title:'Useful Italian Phrases',
    phrases:[
      ['Un caffÃ¨ per favore', 'One coffee please'],
      ['Il conto, per favore', 'The bill please'],
      ['Grazie / Prego', 'Thank you / You\'re welcome'],
      ['Dov\'Ã¨...?', 'Where is...?'],
      ['Buongiorno / Buonasera', 'Good morning / evening'],
      ['Vorrei prenotare', 'I\'d like to book'],
      ['Quanto costa?', 'How much does it cost?'],
      ['Scusi', 'Excuse me / Sorry'],
      ['Per favore', 'Please'],
      ['Parla inglese?', 'Do you speak English?'],
    ]
  },
  {
    icon:'ğŸ†˜', title:'Emergency & Useful Numbers',
    items:[
      { icon:'ğŸš¨', h:'Emergency (all)',   b:'112 (European emergency number â€” works for police, ambulance, fire)' },
      { icon:'ğŸ¥', h:'Hospital',          b:'Ospedale Santa Maria Nuova â€” Piazza Santa Maria Nuova 1 (10 min walk from hotel)' },
      { icon:'ğŸ’Š', h:'Pharmacy (farmacia)',b:'Look for the green cross. Farmacia Centrale (Piazza della Repubblica) open late.' },
      { icon:'ğŸ“', h:'Hotel',             b:'Hotel Berchielli: +39 055 264061' },
    ]
  },
];

TIPS_DATA.forEach(section => {
  const div = document.createElement('div');
  div.className = 'tips-section';

  if (section.phrases) {
    div.innerHTML = `<h3>${section.icon} ${section.title}</h3>
      <div class="phrase-grid">${section.phrases.map(([it,en])=>`
        <div class="phrase"><strong>${it}</strong><em>${en}</em></div>`).join('')}
      </div>`;
  } else {
    div.innerHTML = `<h3>${section.icon} ${section.title}</h3>`
      + section.items.map(i => `
        <div class="tip-row">
          <div class="tip-icon">${i.icon}</div>
          <div class="tip-body"><strong>${i.h}</strong><span>${i.b}</span></div>
        </div>`).join('');
  }
  tipsEl.appendChild(div);
});
</script>
</body>
</html>
